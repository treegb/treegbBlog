<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/treegbBlog/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/treegbBlog/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/treegbBlog/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/treegbBlog/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/treegbBlog/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/treegbBlog/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/treegbBlog/',
    scheme: 'Mist',
    version: '7.1.2',
    sidebar: {"position":"left","display":"remove","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Short: I drew this concept map, just for testing the real limit and potential of concept map. I want to see if concept map can [expressing]-[convey] very complex, highly abstract [concepts]-[knowle">
<meta property="og:type" content="article">
<meta property="og:title" content="190316 [Testing abstract concept map]-[we don&#39;t own our partner ever]">
<meta property="og:url" content="http://yoursite.com/19/03/16/190316m162051/index.html">
<meta property="og:site_name" content="treegb&#39;s blog">
<meta property="og:description" content="Short: I drew this concept map, just for testing the real limit and potential of concept map. I want to see if concept map can [expressing]-[convey] very complex, highly abstract [concepts]-[knowle">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://yoursite.com/treegbBlog/fs/m/19/03/16/190316m162051/we-dont-own-our-partner-ever.jpg">
<meta property="og:image" content="http://yoursite.com/treegbBlog/fs/m/19/03/16/190316m162051/we-dont-own-our-partner-ever.svg">
<meta property="og:updated_time" content="2019-05-09T01:11:39.827Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="190316 [Testing abstract concept map]-[we don&#39;t own our partner ever]">
<meta name="twitter:description" content="Short: I drew this concept map, just for testing the real limit and potential of concept map. I want to see if concept map can [expressing]-[convey] very complex, highly abstract [concepts]-[knowle">
<meta name="twitter:image" content="http://yoursite.com/treegbBlog/fs/m/19/03/16/190316m162051/we-dont-own-our-partner-ever.jpg">





  
  
  <link rel="canonical" href="http://yoursite.com/19/03/16/190316m162051/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>190316 [Testing abstract concept map]-[we don't own our partner ever] | treegb's blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/treegbBlog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">treegb's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">tree is growing bigger</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/treegbBlog/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/treegbBlog/19/02/20/190220m203646/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-my-log">

    
    
    
      
    

    

    <a href="/treegbBlog/19/03/18/190318m144719/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>My log</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/treegbBlog/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/treegbBlog/19/03/16/190316m162051/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="treegb">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/treegbBlog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="treegb's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">190316 [Testing abstract concept map]-[we don't own our partner ever]

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-03-16 16:20:51" itemprop="dateCreated datePublished" datetime="2019-03-16T16:20:51+08:00">2019-03-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-09 09:11:39" itemprop="dateModified" datetime="2019-05-09T09:11:39+08:00">2019-05-09</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
<ul>
  <li><strong>Short:</strong> I drew this concept map, just for testing the real limit and potential of <code>concept map</code>. I want to see if concept map can [expressing]-[convey] very complex, highly abstract [concepts]-[knowledge system].</li>
</ul>

<a id="more"></a>
<hr>

<div class="h2">
  <h2>List</h2>
  <ol>
    <li><strong>Example of real concept map:</strong> <a href="#190316-173221">Anchor</a>.</li>
    <li><strong>About concept map:</strong> <a href="#190316m173224">Anchor</a>.</li>
  </ol>
</div>

<div class="h2">
  <h2>Example of real concept map<a id="190316-173221"></a></h2>
  <p>I pick <a href="https://www.facebook.com/photo.php?fbid=2272654299675310&set=a.1445366252404123&type=3&theater" target="_blank" rel="noopener">this [image]-[story]</a> <strong>(not mine, but from other people)</strong>, just because is is highly abstract, to serve as a good testing real data. I don't specially in love with poems or literature, though I don't dislike them at the same time.</p>
  <div class="imgBlock">
    <img src="/treegbBlog/fs/m/19/03/16/190316m162051/we-dont-own-our-partner-ever.jpg" alt="we-dont-own-our-partner-ever">
    <img src="/treegbBlog/fs/m/19/03/16/190316m162051/we-dont-own-our-partner-ever.svg" alt="we-dont-own-our-partner-ever">
  </div>
  <p>So, if I can break a complex story down to many small pieces of concepts (<code>nodes</code>), and <code>connections</code>, and explicitly denote some <code>context scope number</code> (only at place really need this), I believe, any story can be describe with the form of <code>concept map</code>, and reader will do comprehension themselves. But for honest, text is still more condense to [express]-[convey] same amount of data.</p>
  <p>For more example of concept map, you can see <a href="/treegbBlog/19/03/10/190310m200408/">190310 Brave New World study note # 190310m200408</a>.</p>
</div>

<div class="h2">
  <h2>About concept map<a id="190316m173224"></a></h2>
  <ol>
    <li><strong>What is concept map:</strong> A [map]-[graphs] using <strong><code>nodes</code></strong> and <strong><code>connections</code></strong> to express a story, idea, complex context, knowledge ... anything you can think about. A simple example - <code>Apple --is--> Red --is--> Color</code>. See <a href="https://cmap.ihmc.us/docs/concept.php" target="_blank" rel="noopener">here</a> for detail information about concept map.</li>
    <li><strong>Node (bule  circle):</strong> A concept. Text inside each <code>node</code> is just a <code>symbol</code> to represent the real concept. Beside text (as symbol), another common symbol type is picture. But since text is way easier to made than picture, we don't use picture in concept map.</li>
    <li><strong>Connection (arrowed line, or non-arrowed line):</strong>
      <ol>
        <li><strong>About:</strong> A connection connect 2 concept together.</li>
        <li><strong>Connection with arrow:</strong> Arrow means the direction of description for example <code>Apple --is--> Red</code>, it make sense to say "apple is red", but not "red is apple", because the direction matters when 2 <code>nodes</code> (concept) are connecting together, in this case.</li>
        <li><strong>Connection without description:</strong> Not all connection need description. For example <code>Monkey --can--> Climb --=--> High</code>, the connection between concept (<code>node</code>) "climb" and "high", don't need description (but need arrow to explain direction), in this case, the character <strong><code>=</code></strong> is used, it means "there is no need to have description on this connection" (nothing to do with "they are equal").</li>
        <li><strong>"context" scope:</strong>
          <ol>
            <li><strong>About:</strong> The number shown on connection denote the <strong>different scope of context</strong>. Usually, the scope of <code>context</code> depends on the whole story, it could big to across multiple <code>nodes</code>, or could small to just happens only between 2 adjacent <code>nodes</code>, anyway, I don't specify the scope explicit on every connection (for simplicity reason). When reader is reading, they will <strong>find the right context to fit the story themselves</strong>. // However, in some case, there are different <code>context</code> fighting with each other, or overlapping, in these cases, I have to make it clear, I will use number to [marking]-[grouping] differt <code>context</code>, so it won't be confused by user, since <strong>one node might belong to two context at the same time</strong>.</li>
            <li><strong>Example "6: description":</strong> 2 <code>nodes</code> is under context#6.</li>
            <li><strong>Example "7: description":</strong> 2 <code>nodes</code> is under context#7.</li>
            <li><strong>Example "(6)7: description":</strong> 2 <code>nodes</code> is under context#7. And it is related to the whole context#6, not the previous <code>node</code> (where the arrow starts).</li>
            <li><strong>Example "(6): description":</strong> 2 <code>nodes</code> don't have explicit context. And it is related to the whole context#6, not the previous <code>node</code> (where the arrow starts).</li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</div>

<hr>

<div class="facetList">
Cmm: u190316m162051 c88lost c88fs concept map mapww conceptMap svg svgww fileType88svg
Current: ti88crr88y19 ti88crr88y19dw6 ti88crr88y19m03 ti88crr88y19m03d16 ti88crr88y19m03dw6 ti88crr88y19q1 ti88crr88y19q1dw6 ti88crr88y19w11 ti88crr88y19w11dw6
Time (d): ti88y19 ti88y19dw6 ti88y19m03 ti88y19m03d16 ti88y19m03dw6 ti88y19q1 ti88y19q1dw6 ti88y19w11 ti88y19w11dw6
</div>


      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/treegbBlog/19/03/14/190314m190402/" rel="next" title="190314 Note of " minds", a social network platform.">
                <i class="fa fa-chevron-left"></i> 190314 Note of "Minds", a social network platform.
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/treegbBlog/19/03/17/190317m212850/" rel="prev" title="190317 [Finding Fukue]-[touching documentary]-[they were best friends, then pen pals, until one day, the letters stopped coming]">
                190317 [Finding Fukue]-[touching documentary]-[they were best friends, then pen pals, until one day, the letters stopped coming] <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">treegb</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.2</div>



<script type="text/javascript">
var prev_handler = document.onload;
window.onload = function () {
  if (prev_handler) {
      prev_handler();
  }
  console.log(".Test message by treegb. This is harmless, just for testing javascript. Message id 190501m194015.");
};
</script>

        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/treegbBlog/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/treegbBlog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/treegbBlog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/treegbBlog/js/utils.js?v=7.1.2"></script>

  <script src="/treegbBlog/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/treegbBlog/js/schemes/muse.js?v=7.1.2"></script>




  
  <script src="/treegbBlog/js/scrollspy.js?v=7.1.2"></script>
<script src="/treegbBlog/js/post-details.js?v=7.1.2"></script>



  


  <script src="/treegbBlog/js/next-boot.js?v=7.1.2"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/treegbBlog/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'manual') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
